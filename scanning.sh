#!/bin/bash

declare DEC_TCP
declare DEC_UDP

if [ -z "$1" ]; then
        echo "[*] The scanning needs a target.."
        echo "[*] Usage: $0 <target-IP ADDRESS>"
        exit 0
fi

SCAN_NAME=$1

if [ ! -d /root/NMAP/${SCAN_NAME}.d ]; then
	mkdir /root/NMAP/${SCAN_NAME}.d
fi

echo "Do you want a TOP1000 or a full TCP port scan? [t/f]"
read DEC_TCP

if [[ $DEC_TCP == f ]]; then
    	nmap -v -Pn -sC -sV -sS -O --osscan-guess -p0-65535 --reason --open ${SCAN_NAME} -oN /root/NMAP/${SCAN_NAME}.d/${SCAN_NAME}_TCPscan_full  

elif [[ $DEC_TCP == t ]]; then
	nmap -v -Pn -sC -sV -sS -O --osscan-guess --reason --open ${SCAN_NAME} -oN /root/NMAP/${SCAN_NAME}.d/${SCAN_NAME}_TCPscan_1000

fi


echo "Do you want a TOP1000 or a full UDP port scan? [t/f]"
read DEC_UDP

if [[ $DEC_UDP == f ]]; then
	nmap -v -Pn -sC -sV -sU -O --osscan-guess -p0-65535 --reason --open ${SCAN_NAME} -oN /root/NMAP/${SCAN_NAME}.d/${SCAN_NAME}_UDPscan_full  
elif [[ $DEC_UDP == t ]]; then
	nmap -v -Pn -sC -sV -sU -O --osscan-guess --reason --open ${SCAN_NAME} -oN /root/NMAP/${SCAN_NAME}.d/${SCAN_NAME}_UDPscan_1000

fi
