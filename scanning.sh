#!/bin/bash

declare DEC_TCP
declare DEC_UDP

SCAN_NAME=`ls | grep UP | cut -d "_" -f 1`

echo "Do you want a TOP1000 or a full TCP port scan? [t/f]"
read DEC_TCP

if [[ $DEC_TCP == f ]]; then
    	nmap -v -Pn -sC -sV -sS -O --osscan-guess -p0-65535 --reason --open -iL ${SCAN_NAME}_UP -oA ${SCAN_NAME}_TCPscan  

elif [[ $DEC_TCP == t ]]; then
	nmap -v -Pn -sC -sV -sS -O --osscan-guess --reason --open -iL ${SCAN_NAME}_UP -oA ${SCAN_NAME}_TCPscan

fi

echo "Do you want a TOP1000 or a full UDP port scan? [t/f]"
read DEC_UDP

if [[ $DEC_UDP == f ]]; then
	nmap -v -Pn -sC -sV -sU -O --osscan-guess -p0-65535 --reason --open -iL ${SCAN_NAME}_UP -oA ${SCAN_NAME}_UDPscan  
elif [[ $DEC_UDP == t ]]; then
	nmap -v -Pn -sC -sV -sU -O --osscan-guess --reason --open -iL ${SCAN_NAME}_UP -oA ${SCAN_NAME}_UDPscan

fi

...

echo "The host were regrupped according to the running services"

ls -al | grep $SCAN_NAME
